---
name: rabbitmq

packages:
- erlang
- rabbitmq

provides:
- name: rabbitmq-servers
  type: rabbitmq-server

consumes:
- name: rabbitmq-servers
  type: rabbitmq-server

templates:
  bin/ctl:                    bin/ctl
  bin/monit_debugger:         bin/monit_debugger
  config/advanced.config.erb: config/advanced.config
  config/rabbitmq.conf.erb:   config/rabbitmq.conf
  config/erl_inetrc.erb:      config/erl_inetrc
  data/properties.sh.erb:     data/properties.sh
  helpers/ctl_setup.sh:       helpers/ctl_setup.sh
  helpers/ctl_utils.sh:       helpers/ctl_utils.sh
  tls/rabbitmq.ca.erb:        tls/rabbitmq.ca
  tls/rabbitmq.key.erb:       tls/rabbitmq.key
  tls/rabbitmq.crt.erb:       tls/rabbitmq.crt

properties:
  management:
    description: "Install the rabbitmq management portal"
    default: true

  management_port:
    description: "Rabbitmq management portal port"
    default: 15672

  port:
    description: "Rabbitmq listen port"
    default: 5672

  tls.enabled:
    description: "Should the Redis use TLS"
    default: false
  tls.dual-mode:
    description: "Allow for TLS (5671) and Non-TLS (5672) both."
    default: true
  tls.ca:
    description: The CA Sertificate for the Server Certificate
  tls.crt:
    description: The Server Certificate
  tls.key:
    description: The Server Key


  erlang_cookie:
    description: "Rabbitmq cookie for clustering"
    default: cf-cookie

  default_user:
    description: "Rabbitmq default username"
    default: guest

  default_password:
    description: "Rabbitmq default password"
    default: guest

