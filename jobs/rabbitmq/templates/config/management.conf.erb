<% if p('management.enabled') -%>
# https://www.rabbitmq.com/management.html
management.tcp.port = <%= p('management.port') %>
management.tcp.compress = true
<% if p("rabbitmq.tls.enabled") -%>
# https://www.rabbitmq.com/ssl.html
# Management TLS Listener is on port 5671
management.ssl.port = <%= p("management.tls.port") %>
# Management TLS Certificates
management.ssl.cacertfile           = /var/vcap/jobs/rabbitmq/tls/rabbitmq.ca
management.ssl.certfile             = /var/vcap/jobs/rabbitmq/tls/rabbitmq.cert
management.ssl.keyfile              = /var/vcap/jobs/rabbitmq/tls/rabbitmq.key
management.ssl.verify               = verify_peer
management.ssl.fail_if_no_peer_cert = true
# All TLS v1.2 RFC Supported Ciphers
management.ssl.versions.1 = tlsv1.2
management.ssl.ciphers.1  = TLS_RSA_WITH_AES_128_GCM_SHA256         # AES128-GCM-SHA256
management.ssl.ciphers.2  = TLS_RSA_WITH_AES_256_GCM_SHA384         # AES256-GCM-SHA384
management.ssl.ciphers.3  = TLS_ECDHE_ECDSA_WITH_RC4_128_SHA        # ECDHE-ECDSA-RC4-SHA
management.ssl.ciphers.4  = TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA    # ECDHE-ECDSA-AES128-SHA
management.ssl.ciphers.5  = TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA    # ECDHE-ECDSA-AES256-SHA
management.ssl.ciphers.6  = TLS_ECDHE_RSA_WITH_RC4_128_SHA          # ECDHE-RSA-RC4-SHA
management.ssl.ciphers.7  = TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA     # ECDHE-RSA-DES-CBC3-SHA
management.ssl.ciphers.8  = TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA      # ECDHE-RSA-AES128-SHA
management.ssl.ciphers.9  = TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA      # ECDHE-RSA-AES256-SHA
management.ssl.ciphers.10 = TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256   # ECDHE-RSA-AES128-GCM-SHA256
management.ssl.ciphers.11 = TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 # ECDHE-ECDSA-AES128-GCM-SHA256
management.ssl.ciphers.12 = TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384   # ECDHE-RSA-AES256-GCM-SHA384
management.ssl.ciphers.13 = TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 # ECDHE-ECDSA-AES256-GCM-SHA384
management.ssl.ciphers.14 = TLS_RSA_WITH_AES_128_CBC_SHA256         # AES128-SHA256
management.ssl.ciphers.15 = TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 # ECDHE-ECDSA-AES128-SHA256
management.ssl.ciphers.16 = TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256   # ECDHE-RSA-AES128-SHA256
management.ssl.ciphers.17 = TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305    # ECDHE-RSA-CHACHA20-POLY1305
management.ssl.ciphers.18 = TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305  # ECDHE-ECDSA-CHACHA20-POLY1305
# NOTE: vvv Disable these two below for tlsv1.3 vvv
management.ssl.honor_cipher_order   = true
management.ssl.honor_ecc_order      = true
# Troubleshooting: https://www.rabbitmq.com/troubleshooting-ssl.html
<% end -%>
<% end -%>
